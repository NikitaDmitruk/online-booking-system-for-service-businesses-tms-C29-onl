databaseChangeLog:
  - changeSet:
      id: 1731314433894-1
      author: Nikita (generated)
      changes:
        - createTable:
            columns:
              - column:
                  name: appointment_time
                  type: TIMESTAMP WITHOUT TIME ZONE
              - column:
                  name: client_id
                  type: BIGINT
              - column:
                  name: customer_service_id
                  type: BIGINT
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: tb_appointment_pkey
                  name: id
                  type: BIGINT
              - column:
                  name: status
                  type: VARCHAR(255)
            tableName: tb_appointment
  - changeSet:
      id: 1731314433894-2
      author: Nikita (generated)
      changes:
        - createTable:
            columns:
              - column:
                  name: category_id
                  type: BIGINT
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: tb_customer_service_pkey
                  name: id
                  type: BIGINT
              - column:
                  name: provider_id
                  type: BIGINT
              - column:
                  name: name
                  type: VARCHAR(255)
            tableName: tb_customer_service
  - changeSet:
      id: 1731314433894-3
      author: Nikita (generated)
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                  name: is_company
                  type: BOOLEAN
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: tb_project_pkey
                  name: id
                  type: BIGINT
              - column:
                  name: owner_id
                  type: BIGINT
              - column:
                  name: description
                  type: VARCHAR(255)
              - column:
                  name: name
                  type: VARCHAR(255)
            tableName: tb_project
  - changeSet:
      id: 1731314433894-4
      author: Nikita (generated)
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                  name: project_id
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: user_id
                  type: BIGINT
            tableName: tb_project_members
  - changeSet:
      id: 1731314433894-5
      author: Nikita (generated)
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: tb_role_pkey
                  name: id
                  type: BIGINT
              - column:
                  name: name
                  type: VARCHAR(255)
            tableName: tb_role
  - changeSet:
      id: 1731314433894-6
      author: Nikita (generated)
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: tb_service_category_pkey
                  name: id
                  type: BIGINT
              - column:
                  name: name
                  type: VARCHAR(255)
            tableName: tb_service_category
  - changeSet:
      id: 1731314433894-7
      author: Nikita (generated)
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: tb_user_pkey
                  name: id
                  type: BIGINT
              - column:
                  name: email
                  type: VARCHAR(255)
              - column:
                  name: username
                  type: VARCHAR(255)
              - column:
                  name: password
                  type: VARCHAR(255)
              - column:
                  name: phone
                  type: VARCHAR(255)
            tableName: tb_user
  - changeSet:
      id: 1731314433894-8
      author: Nikita (generated)
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                  name: role_id
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: user_id
                  type: BIGINT
            tableName: tb_user_roles
  - changeSet:
      id: 1731314433894-9
      author: Nikita (generated)
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: user_id
            baseTableName: tb_user_roles
            constraintName: fk19t64ocsol5x06fy2cytp7gey
            deferrable: false
            initiallyDeferred: false
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: tb_user
            validate: true
  - changeSet:
      id: 1731314433894-10
      author: Nikita (generated)
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: provider_id
            baseTableName: tb_customer_service
            constraintName: fk2bk3ykn095vf4xu101co9ve6b
            deferrable: false
            initiallyDeferred: false
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: tb_project
            validate: true
  - changeSet:
      id: 1731314433894-11
      author: Nikita (generated)
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: category_id
            baseTableName: tb_customer_service
            constraintName: fk6rpg52oc3q6alo1366dv8ruur
            deferrable: false
            initiallyDeferred: false
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: tb_service_category
            validate: true
  - changeSet:
      id: 1731314433894-12
      author: Nikita (generated)
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: owner_id
            baseTableName: tb_project
            constraintName: fk95172crxxktcdik00aohhliue
            deferrable: false
            initiallyDeferred: false
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: tb_user
            validate: true
  - changeSet:
      id: 1731314433894-13
      author: Nikita (generated)
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: customer_service_id
            baseTableName: tb_appointment
            constraintName: fkb0msboqcomqdv7xg65ascuq9r
            deferrable: false
            initiallyDeferred: false
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: tb_customer_service
            validate: true
  - changeSet:
      id: 1731314433894-14
      author: Nikita (generated)
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: project_id
            baseTableName: tb_project_members
            constraintName: fkb3bg6lfwrc64r1levulky8lru
            deferrable: false
            initiallyDeferred: false
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: tb_project
            validate: true
  - changeSet:
      id: 1731314433894-15
      author: Nikita (generated)
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: role_id
            baseTableName: tb_user_roles
            constraintName: fkft1jmfcluls775jqp5142wvl8
            deferrable: false
            initiallyDeferred: false
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: tb_role
            validate: true
  - changeSet:
      id: 1731314433894-16
      author: Nikita (generated)
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: client_id
            baseTableName: tb_appointment
            constraintName: fkhu3vr44b6es48kiu09xlncj6o
            deferrable: false
            initiallyDeferred: false
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: tb_user
            validate: true
  - changeSet:
      id: 1731314433894-17
      author: Nikita (generated)
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: user_id
            baseTableName: tb_project_members
            constraintName: fkpes2kgd4ryses7fwcqlnbxy8c
            deferrable: false
            initiallyDeferred: false
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: tb_user
            validate: true
  - changeSet:
      id: 1731495345727-1
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addColumn:
            columns:
              - column:
                  name: duration
                  type: INT
              - column:
                  name: notes
                  type: VARCHAR(255)
            tableName: tb_appointment
  - changeSet:
      id: 1732017996537-1
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addColumn:
            columns:
              - column:
                  name: created_by
                  type: VARCHAR(255)
              - column:
                  name: created_date
                  type: DATETIME
              - column:
                  name: modified_by
                  type: VARCHAR(255)
              - column:
                  name: modified_date
                  type: DATETIME
            tableName: tb_appointment
  - changeSet:
      id: 1732017996537-2
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addColumn:
            columns:
              - column:
                  name: created_by
                  type: VARCHAR(255)
              - column:
                  name: created_date
                  type: DATETIME
              - column:
                  name: modified_by
                  type: VARCHAR(255)
              - column:
                  name: modified_date
                  type: DATETIME
            tableName: tb_customer_service
  - changeSet:
      id: 1732017996537-3
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addColumn:
            columns:
              - column:
                  name: created_by
                  type: VARCHAR(255)
              - column:
                  name: created_date
                  type: DATETIME
              - column:
                  name: modified_by
                  type: VARCHAR(255)
              - column:
                  name: modified_date
                  type: DATETIME
            tableName: tb_project
  - changeSet:
      id: 1732017996537-4
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addColumn:
            columns:
              - column:
                  name: created_by
                  type: VARCHAR(255)
              - column:
                  name: created_date
                  type: DATETIME
              - column:
                  name: modified_by
                  type: VARCHAR(255)
              - column:
                  name: modified_date
                  type: DATETIME
            tableName: tb_user
  - changeSet:
      id: 1732017996537-17
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addPrimaryKey:
            columnNames: role_id, user_id
            constraintName: pk_tb_user_roles
            tableName: tb_user_roles
  - changeSet:
      id: 1732036281745-5
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addUniqueConstraint:
            columnNames: email
            constraintName: uc_tb_user_email
            tableName: tb_user
  - changeSet:
      id: 1732036281745-6
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addUniqueConstraint:
            columnNames: phone
            constraintName: uc_tb_user_phone
            tableName: tb_user
  - changeSet:
      id: 1732036281745-7
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addUniqueConstraint:
            columnNames: username
            constraintName: uc_tb_user_username
            tableName: tb_user
  - changeSet:
      id: 1732036281745-1
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addNotNullConstraint:
            columnDataType: VARCHAR(255)
            columnName: email
            tableName: tb_user
            validate: true
  - changeSet:
      id: 1732036281745-2
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addNotNullConstraint:
            columnDataType: VARCHAR(255)
            columnName: password
            tableName: tb_user
            validate: true
  - changeSet:
      id: 1732036281745-3
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addNotNullConstraint:
            columnDataType: VARCHAR(255)
            columnName: phone
            tableName: tb_user
            validate: true
  - changeSet:
      id: 1732036281745-4
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addNotNullConstraint:
            columnDataType: VARCHAR(255)
            columnName: username
            tableName: tb_user
            validate: true
  - changeSet:
      id: 1732115238352-2
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                  name: customer_service_id
                  type: BIGINT
              - column:
                  name: examples_of_works
                  type: VARCHAR(255)
            tableName: customer_service_examples_of_works
  - changeSet:
      id: 1732115238352-3
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                  name: project_id
                  type: BIGINT
              - column:
                  name: examples_of_works
                  type: VARCHAR(255)
            tableName: project_examples_of_works
  - changeSet:
      id: 1732115238352-4
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                  name: project_id
                  type: BIGINT
              - column:
                  name: interior_photos
                  type: VARCHAR(255)
            tableName: project_interior_photos
  - changeSet:
      id: 1732115238352-5
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                  name: project_id
                  type: BIGINT
              - column:
                  name: messages
                  type: VARCHAR(255)
            tableName: project_messages
  - changeSet:
      id: 1732115238352-6
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_schedule
                  name: id
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: provider_id
                  type: BIGINT
              - column:
                  name: date
                  type: DATE
            tableName: schedule
  - changeSet:
      id: 1732115238352-7
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                  name: schedule_id
                  type: BIGINT
              - column:
                  name: available_slots
                  type: TIME
            tableName: schedule_available_slots
  - changeSet:
      id: 1732115238352-8
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                  name: schedule_id
                  type: BIGINT
              - column:
                  name: unavailable_slots
                  type: TIME
            tableName: schedule_unavailable_slots
  - changeSet:
      id: 1732115238352-9
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_tb_category
                  name: id
                  type: BIGINT
              - column:
                  name: name
                  type: VARCHAR(255)
            tableName: tb_category
  - changeSet:
      id: 1732115238352-10
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_tb_sub_category
                  name: id
                  type: BIGINT
              - column:
                  name: name
                  type: VARCHAR(255)
              - column:
                  name: category_id
                  type: BIGINT
            tableName: tb_sub_category
  - changeSet:
      id: 1732115238352-11
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                  name: user_id
                  type: BIGINT
              - column:
                  name: messages
                  type: VARCHAR(255)
            tableName: user_messages
  - changeSet:
      id: 1732115238352-12
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addColumn:
            columns:
              - column:
                  name: avatar
                  type: VARCHAR(255)
            tableName: tb_user
  - changeSet:
      id: 1732115238352-13
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addColumn:
            columns:
              - column:
                  name: brake_after_service
                  type: INT
              - column:
                  name: description
                  type: VARCHAR(255)
              - column:
                  name: duration
                  type: VARCHAR(255)
              - column:
                  name: price
                  type: DECIMAL
            tableName: tb_customer_service
  - changeSet:
      id: 1732115238352-14
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addColumn:
            columns:
              - column:
                  name: city
                  type: VARCHAR(255)
              - column:
                  name: country
                  type: VARCHAR(255)
              - column:
                  name: house_number
                  type: VARCHAR(255)
              - column:
                  name: postal_code
                  type: VARCHAR(255)
              - column:
                  name: street_address
                  type: VARCHAR(255)
              - column:
                  name: sub_category_id
                  type: BIGINT
            tableName: tb_project
  - changeSet:
      id: 1732115238352-15
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addColumn:
            columns:
              - column:
                  name: client_came
                  type: BOOLEAN
              - column:
                  name: schedule_id
                  type: BIGINT
            tableName: tb_appointment
  - changeSet:
      id: 1732115238352-25
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: provider_id
            baseTableName: schedule
            constraintName: FK_SCHEDULE_ON_PROVIDER
            referencedColumnNames: id
            referencedTableName: tb_project
  - changeSet:
      id: 1732115238352-26
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: schedule_id
            baseTableName: tb_appointment
            constraintName: FK_TB_APPOINTMENT_ON_SCHEDULE
            referencedColumnNames: id
            referencedTableName: schedule
  - changeSet:
      id: 1732115238352-27
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: sub_category_id
            baseTableName: tb_project
            constraintName: FK_TB_PROJECT_ON_SUB_CATEGORY
            referencedColumnNames: id
            referencedTableName: tb_sub_category
  - changeSet:
      id: 1732115238352-28
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: category_id
            baseTableName: tb_sub_category
            constraintName: FK_TB_SUB_CATEGORY_ON_CATEGORY
            referencedColumnNames: id
            referencedTableName: tb_category
  - changeSet:
      id: 1732115238352-29
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: customer_service_id
            baseTableName: customer_service_examples_of_works
            constraintName: fk_customerservice_examplesofworks_on_customer_service
            referencedColumnNames: id
            referencedTableName: tb_customer_service
  - changeSet:
      id: 1732115238352-30
      author: Nikita
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: project_id
            baseTableName: project_examples_of_works
            constraintName: fk_project_examplesofworks_on_project
            referencedColumnNames: id
            referencedTableName: tb_project




